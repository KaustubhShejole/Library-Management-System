<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Departmental Library Management System</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet">

    <link rel="stylesheet" href="css/styles.css">

    <script type = "text/javascript" >
    function preventBack() { window.history.forward(); }
    setTimeout("preventBack()", 0);
    window.onunload = function () { null };
    </script>
</head>

<body>

  <div class="businessup-nav-widget-area">
    <div class="container">
        <div class="row">
            <div class="col-md-3 col-sm-4 text-center-xs">
                <div class="navbar-header">
                    <!-- Logo -->
                    <a href="https://vnit.ac.in/cse/" class="navbar-brand" rel="home" aria-current="page">
                        <img src="cse_vnit_pic.jpg" />
                        <!-- <img width="600" height="105" src="https://vnit.ac.in/cse/wp-content/uploads/2018/10/vnitnew-logo-sample-img.jpg" class="custom-logo" alt="Department of Computer Science &amp; Engineering" decoding="async" srcset="https://vnit.ac.in/cse/wp-content/uploads/2018/10/vnitnew-logo-sample-img.jpg 600w, https://vnit.ac.in/cse/wp-content/uploads/2018/10/vnitnew-logo-sample-img-300x53.jpg 300w" sizes="(max-width: 600px) 100vw, 600px"> -->
                    </a>
                    <!-- Logo -->
                </div>
            </div>
            <div class="col-md-9 col-sm-8">
              <div class="header-widget" style="padding-left: 50px;padding-top:10px;">
                  <form action="/" method="post" class="action-form">
                      <button style = "float:right" type="submit" class="btn btn-primary">DLMS</button>
                  </form>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="image heading">
    <h1>Departmental Library Management System</h1>
</div>
<div>


<form action="/insert" method="post" class="item">
    <div class="mainForm">
        <div class="subDiv">
          <div class="input">
            <label for="serial_number">Book's serial number: </label>
                <input type="text" placeholder="<%= booksCount %>" value="<%= booksCount %>" name = "serial_number" disabled>
          </div>
          <div class="input" style="display:none;">
    <label for="serial_number">Book's serial number:</label>
    <input type="text" name="sn" value="<%= booksCount %>" >
</div>
            <div class="input form-group">
                <label for="title">Title: </label>
                <input class="form-control" type="text" name="title" required/>
            </div>
            <div class="input" class="form-control">
    <label for="author_count">Number of Authors: </label>
    <input class="form-control" type="number" id="author_count" name="author_count" required/>
</div>

<div id="author_inputs"></div>

<script>
    document.getElementById("author_count").addEventListener("input", function () {
        var count = parseInt(this.value);
        var authorInputs = "";

        for (var i = 1; i <= count; i++) {
            authorInputs += `
                <div class="input" class="form-control">
                    <label for="author_name${i}">Author ${i}'s Name: </label>
                    <input class="form-control" type="text" id="author_name${i}" name="author_name${i}" required/>
                </div>
            `;
        }

        document.getElementById("author_inputs").innerHTML = authorInputs;
    });

</script>

            <div class="input">
                <label for="Lname">Publication: </label>
                <input class="form-control" type="text" name="publication" required/>
            </div>
            <div class="form-group">
    <label for="subjectSelect">Select Subject:</label>
    <select id="subjects_menu" name="subject">
      <% subjectItems.forEach(function(subject) { %>
        <option data-value="<%= subject.name %>"><%= subject.name %></option>
      <% }); %>
    </select>
  </div>
            <div class="input">
                <label for="Lname">ISBN_NUMBER: </label>
                <input class="form-control" type="text" name="isbn" required/>
            </div>
        </div>

    </div>
    <div class="submitClass">
        <input type="submit" id="submitForm" class="btn btn-outline-primary" value="Insert this Book Record" />
    </div>

</form>
</div>
<script type="text/javascript">

document.getElementById('subjects_menu').addEventListener('change', function() {
  // Get the selected value
  var selectedSubject = this.value;

  // Log the selected subject value (you can do whatever you want with it)
  console.log('Selected Subject:', selectedSubject);
});

</script>
</body>
</html>
