<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Departmental Library Management System</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet">

    <link rel="stylesheet" href="css/styles.css">

    <script type = "text/javascript" >
    function preventBack() { window.history.forward(); }
    setTimeout("preventBack()", 0);
    window.onunload = function () { null };
    </script>
</head>

<body>

  <div class="businessup-nav-widget-area">
    <div class="container">
        <div class="row">
            <div class="col-md-3 col-sm-4 text-center-xs">
                <div class="navbar-header">
                    <!-- Logo -->
                    <a href="https://vnit.ac.in/cse/" class="navbar-brand" rel="home" aria-current="page">
                        <img src="cse_vnit_pic.jpg" />
                        <!-- <img width="600" height="105" src="https://vnit.ac.in/cse/wp-content/uploads/2018/10/vnitnew-logo-sample-img.jpg" class="custom-logo" alt="Department of Computer Science &amp; Engineering" decoding="async" srcset="https://vnit.ac.in/cse/wp-content/uploads/2018/10/vnitnew-logo-sample-img.jpg 600w, https://vnit.ac.in/cse/wp-content/uploads/2018/10/vnitnew-logo-sample-img-300x53.jpg 300w" sizes="(max-width: 600px) 100vw, 600px"> -->
                    </a>
                    <!-- Logo -->
                </div>
            </div>
            <div class="col-md-9 col-sm-8">
                <div class="header-widget" style="padding-left: 50px;padding-top:10px;">
                  <form action="/" method="post" class="action-form">
                      <button style="float:right;" type="submit" class="btn btn-primary">DLMS</button>
                  </form>
                </div>
            </div>
        </div>
    </div>
</div>
<style media="screen">
  .menu-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: 10px;
    margin-top: 10px;
    margin-right: 20px;
    margin-left: 20px;
  }

  .option {
    padding: 10px;
    border: 1px solid #ccc;
    cursor: pointer;
    border-radius: 5px;
  }

  .option.selected {
    background-color: lightblue;
  }

  .option::after {
    content: 'âœ“';
    float: right;
    visibility: hidden;
  }

  .option.selected::after {
    visibility: visible;
  }
  .option:hover {
  background-color: #facaee;
  cursor: pointer;
  }
</style>
<center>
  Insert a new Subject
</center>
<div class="category-form" style="text-align: center;">
  <form class="categoryInsert" action="/insert_subject" method="post">
    <div class="category_name">
        <label for="category_name">Subject Name:</label>
        <input type="text" name="name" value="" class="form-control">
    </div>
    <div class="select_subjects">
        <label for="select_subjects">Please Select appropriate categories:</label>
        <div class="menu-grid" onclick="toggleOption(event)">
            <% subjectItems.forEach(subject => { %>
                <div class="option" data-value="<%= subject._id %>">
                    <%= subject.name %>
                    <input type="hidden" name="selectedCategories" value="" class="hidden-input">
                </div>
            <% }); %>
        </div>
    </div>
    <button type="submit" class="btn btn-primary" style="width: 80%; margin-left: 10%; margin-right: 10%; margin-top: 2%;margin-bottom: 2%;">Insert</button>
</form>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        const options = document.querySelectorAll('.option');

        options.forEach(option => {
            option.addEventListener('click', function () {
                const hiddenInput = option.querySelector('.hidden-input');
                if (hiddenInput.value === '') {
                    hiddenInput.value = option.dataset.value;
                } else {
                    hiddenInput.value = '';
                }
            });
        });
    });
</script>

</div>

<script type="text/javascript">
  function toggleOption(event) {
  const target = event.target;
  if (target.classList.contains('option')) {
    target.classList.toggle('selected');
  }
}
</script>
</body>
</html>
